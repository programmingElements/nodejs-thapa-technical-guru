<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css"
        integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="./index.css">
</head>

<body>

    <div class="box">
        <!-- <div class="wave -one"></div>
        <div class="wave -two"></div>
        <div class="wave -three"></div> -->

        <div id="weathericon">
            <i class="fa-solid fa-sun" style="color: #eccc68"></i>
        </div>

        <div class="info">
            <h2 class="location">
                <i class="fa-solid fa-street-view" style="color: #fff;"></i> {%location%}, {%country%}
            </h2>
            <p id="date">WED | JUL 18 | 11:00AM</p>
            <h2 class="temp"> {%tempval%} °C </h2>
            <p class="tempmin_max">Min {%tempmin%} °C | Max {%tempmax%} °C </p>
        </div>

    </div>

    <script>
        const curDate = document.getElementById("date");
        const weathericon = document.getElementById('weathericon');

        const tempStatus = "{%tempstatus%}";

        if (tempStatus === "Sunny") {
            weathericon.innerHTML = `<i class="fa-solid fa-sun" style="color: #eccc68"></i>`
        } else if (tempStatus === "Clouds") {
            weathericon.innerHTML = `<i class="fa-solid fa-cloud" style="color: #eccc68"></i>`
        } else if (tempStatus === "Rainy") {
            weathericon.innerHTML = `<i class="fa-solid fa-cloud-rain" style="color: #eccc68"></i>`
        } else {
            weathericon.innerHTML = `<i class="fa-solid fa-cloud" style="color: #eccc68"></i>`
        }

        const getCurrentDay = () => {
            const weekday = ["Sun", "Mon", "Tues", "Wed", "Thur", "Fri", "Sat"];
            let currentTime = new Date();
            // console.log(currentTime.getDay());
            // console.log(weekday[currentTime.getDay()]);

            let day = weekday[currentTime.getDay()];

            return day.toLocaleUpperCase();
        };

        const getCurrentTime = () => {
            const months = [
                "Jan",
                "Feb",
                "Mar",
                "Apr", 
                "May",
                "Jun",
                "Jul", 
                "Aug", 
                "Sep", 
                "Oct", 
                "Nov",
                "Dec"
            ];
            const currentTime = new Date();
            const month = months[currentTime.getMonth() + 1];
            const date = currentTime.getDate();
            let hours = currentTime.getHours();
            let mins = currentTime.getMinutes();

            let periods = "AM";

            if (hours > 11) {
                perios = "PM";
                if (hours > 12) hours -= 12;
            }

            if (mins < 10) {
                mins = "0" + mins;
            } 


            // console.log(month + "/" + date);

            return `${month} ${date} | ${hours}:${mins}${periods}`;
        };

        curDate.innerHTML = getCurrentDay() + " | " + getCurrentTime(); 


    </script>
</body>

</html>